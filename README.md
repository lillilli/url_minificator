# URL Minifier

## Общее описание сервиса

Данный сервис - аналог сlck.ru. Данный сервис генерирует короткий url из заданного, и при GET запросе на него редиректит на заданный.

## Ответы на вопросы

### Язык и библиотеки

Сервис написан на GO, т.к. сочетает в себе производительность и параллельную обработку из коробки. Сервис написан без использования сторонних библиотек, я старался сделать его максимально легким и простым для понимания.

### Проблемы не решенные в прототипе

- коллизия алгоритма хэша
- масштабирование сервиса
- удаленное хранение url (решит проблему с масштабированием)
- протухание url
- цепочки редиректов
- логи, конифиги, метрики и прочие радости

### Архитектура

Я старался максимально упростить данный микросервис, поэтому отказался от стандартной архитектуры go серверов.
Все исходники лежат в /src:

- http.go - предосталяет обработчики для http запросов
- main.go - главный исполняемы файл, создает http сервер
- url_minifier.go - предоставляет методы для минификации и деминификации url

## HTTP API

### Minificate

Генерация короткого url из заданного.

```http
GET /--?url=https://yandex.ru
```

Ответ вида:

```http
200 OK

localhost/325605f7
```

### Redirect

Редирект с короткого url на его родительский url.

```http
GET /325605f7
```

Ответ редиректит на родительский url.

## Локальный запуск

1. Склонировать репозиторий.
2. Запустить проект.

```bash
git clone https://github.com/lillilli/url_minificator.git && cd url_minificator
make run
```

### Docker

1. Склонировать репозиторий.
2. Собрать образ.
3. Запустить образ.

```bash
git clone https://github.com/lillilli/url_minificator.git && cd url_minificator
make image
make run:image
```
